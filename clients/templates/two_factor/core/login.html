{% extends "two_factor/_base.html" %}
{% load static %}
{% load i18n %}
{% load account socialaccount %}


{% load crispy_forms_filters %}

{% block head_title %}{% trans "Sign In" %}{% endblock %}

{% block content %}
<div class="row">
<!--<div class="text-center">
  <h1>{#% block title %}{% trans "Login" %}{% endblock %#}</h1>

  {% if wizard.steps.current == 'auth' %}
    <p>{% blocktrans %}Enter your credentials.{% endblocktrans %}</p>
  {% elif wizard.steps.current == 'token' %}
    {% if device.method == 'call' %}
      <p>{% blocktrans trimmed %}We are calling your phone right now, please enter the
        digits you hear.{% endblocktrans %}</p>
    {% elif device.method == 'sms' %}
      <p>{% blocktrans trimmed %}We sent you a text message, please enter the tokens we
        sent.{% endblocktrans %}</p>
    {% else %}
      <p>{% blocktrans trimmed %}Please enter the tokens generated by your token
        generator.{% endblocktrans %}</p>
    {% endif %}
  {% elif wizard.steps.current == 'backup' %}
    <p>{% blocktrans trimmed %}Use this form for entering backup tokens for logging in.
      These tokens have been generated for you to print and keep safe. Please
      enter one of these backup tokens to login to your account.{% endblocktrans %}</p>
  {% endif %}

    {% get_providers as socialaccount_providers %}

    {% if socialaccount_providers %}
    <p>{% blocktrans with site.name as site_name %}Please sign in with one
    of your existing third party accounts.<br>Or, <a href="{{ signup_url }}">sign up</a>
    for a {{ site_name }} account and sign in below:{% endblocktrans %}</p>

    <div class="socialaccount_ballot">

      <div class="socialaccount_providers">
        {#% include "socialaccount/snippets/provider_list.html" with process="login" %#}
      </div>
   

  
      <div class="login-or border-top border-bottom my-3">{% trans 'OR' %}</div>

    </div>

    {#% include "socialaccount/snippets/login_extra.html" %#}

    {% else %}
    <p>{% blocktrans %}If you have not created an account yet, then please
    <a href="{{ signup_url }}">sign up</a> first.{% endblocktrans %}</p>
    {% endif %}
  </div>



  

  <form action="" method="post">{% csrf_token %}
    

    {#% include "two_factor/_wizard_forms.html" %#}
        
    {% if redirect_field_value %}
    <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
    {% endif %}
    
    {# hidden submit button to enable [enter] key #}
    <input type="submit" value="" class="d-none" />

    {% if other_devices %}
      <p>{% trans "Or, alternatively, use one of your backup phones:" %}</p>
      <p>
        {% for other in other_devices %}
        <button name="challenge_device" value="{{ other.persistent_id }}"
                class="btn btn-secondary btn-block" type="submit">
          {{ other.generate_challenge_button_title }}
        </button>
      {% endfor %}</p>
    {% endif %}
    {% if backup_tokens %}
      <p>{% trans "As a last resort, you can use a backup token:" %}</p>
      <p>
        <button name="wizard_goto_step" type="submit" value="backup"
                class="btn btn-secondary btn-block">{% trans "Use Backup Token" %}</button>
      </p>
    {% endif %}

    <div class="d-grid">
      <button class="primaryAction mt-3 btn btn-dark" type="submit">{% trans "Sign In" %}</button><br>
      <a class="button secondaryAction text-dark text-center" href="{% url 'account_reset_password' %}">{% trans "Forgot Password?" %}</a>
    </div>

  </form>-->
  
<!-- [ auth-signin ] start -->

<div class="auth-wrapper">
	<div class="auth-content">
            
   
           <!-- <div class="p-3 mb-3 bg-dark">
              <div class="container d-flex justify-content-between">
                  {% if user.is_authenticated %}
                  <div><a class="text-light" href="{% url 'account_email' %}">Change E-mail</a></div>
                  <div><a class="text-light" href="{#% url 'home' %#}">Home</a></div>
                  <div><a class="text-light" href="{% url 'account_logout' %}">Sign Out</a></div>
                  {% else %}
                  <div><a class="text-light" href="{% url 'two_factor:login' %}">Sign In</a></div>
                  <div><a class="text-light" href="{% url 'account_signup' %}">Sign Up</a></div>
                  {% endif %} 
                  
              </div>
            </div>-->
            
           
						
 
			
	
<!-- [ auth-signin ] end -->
  <!-- [ horizontal-layout ] start -->
  <div class="col-sm-12">
    <div class="card">
      {% include "dashboard/include/message.html" %}
        <div class="card-header">
          <div class="text-center">
            <h1>{% block title %}{% trans "Login" %}{% endblock %}</h1>
          
            {% if wizard.steps.current == 'auth' %}
              <p>{% blocktrans %}Enter your credentials.{% endblocktrans %}</p>
            {% elif wizard.steps.current == 'token' %}
              {% if device.method == 'call' %}
                <p>{% blocktrans trimmed %}We are calling your phone right now, please enter the
                  digits you hear.{% endblocktrans %}</p>
              {% elif device.method == 'sms' %}
                <p>{% blocktrans trimmed %}We sent you a text message, please enter the tokens we
                  sent.{% endblocktrans %}</p>
              {% else %}
                <p>{% blocktrans trimmed %}Please enter the tokens generated by your token
                  generator.{% endblocktrans %}</p>
              {% endif %}
            {% elif wizard.steps.current == 'backup' %}
              <p>{% blocktrans trimmed %}Use this form for entering backup tokens for logging in.
                These tokens have been generated for you to print and keep safe. Please
                enter one of these backup tokens to login to your account.{% endblocktrans %}</p>
            {% endif %}
          
              {% get_providers as socialaccount_providers %}
          
              {% if socialaccount_providers %}
              <p>{% blocktrans with site.name as site_name %}Please sign in with one
              of your existing third party accounts.<br>Or, <a href="{{ signup_url }}">sign up</a>
              for a {{ site_name }} account and sign in below:{% endblocktrans %}</p>
          
              <div class="socialaccount_ballot">
          
                <div class="socialaccount_providers">
                  {#% include "socialaccount/snippets/provider_list.html" with process="login" %#}
                </div>
             
    
          
              </div>
          
              {#% include "socialaccount/snippets/login_extra.html" %#}
          
              {% else %}
              <p>{% blocktrans %}If you have not created an account yet, then please
              <a href="{{ signup_url }}">sign up</a> first.{% endblocktrans %}</p>
              {% endif %}
            </div>
            <div class="card-header-right">
                <div class="btn-group card-option">
                    <button type="button" class="btn dropdown-toggle btn-icon" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="feather icon-more-horizontal"></i>
                    </button>
                    <ul class="list-unstyled card-option dropdown-menu dropdown-menu-right">
                        <li class="dropdown-item full-card"><a href="#!"><span><i class="feather icon-maximize"></i> maximize</span><span style="display:none"><i class="feather icon-minimize"></i> Restore</span></a>
                        </li>
                        <li class="dropdown-item minimize-card"><a href="#!"><span><i class="feather icon-minus"></i> collapse</span><span style="display:none"><i class="feather icon-plus"></i> expand</span></a></li>
                        <li class="dropdown-item reload-card"><a href="#!"><i class="feather icon-refresh-cw"></i> reload</a></li>
                        <li class="dropdown-item close-card"><a href="#!"><i class="feather icon-trash"></i> remove</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="card-body">
   
         
          <form action="" method="post">{% csrf_token %}
            <div class="form-group">
            {% include "two_factor/_wizard_forms.html" %}
                                       
        </div>
  
            {% if redirect_field_value %}
            <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
            {% endif %}
            
            {# hidden submit button to enable [enter] key #}
            <input type="submit" value="" class="d-none" />
        
            {% if other_devices %}
              <p>{% trans "Or, alternatively, use one of your backup phones:" %}</p>
              <p>
                {% for other in other_devices %}
                <button name="challenge_device" value="{{ other.persistent_id }}"
                        class="btn btn-secondary btn-block" type="submit">
                  {{ other.generate_challenge_button_title }}
                </button>
              {% endfor %}</p>
            {% endif %}
            {% if backup_tokens %}
              <p>{% trans "As a last resort, you can use a backup token click dark button to use backup Token:" %}</p>
              <p>
                <button name="wizard_goto_step" type="submit" value="backup"
                        class="btn btn-block btn-primary mb-4">{% trans "Use Backup Token" %}</button>
              </p>
            {% endif %}
              
              <button class="login100-form-btn" type="submit">{% trans "Sign In" %}</button>
              <hr>
              <p class="mb-2 text-muted">Forgot password? <a href="{% url 'account_reset_password' %}" class="f-w-400">Reset</a></p>
              <p class="mb-0 text-muted">Donâ€™t have an account? <a href="{% url 'account_signup' %}" class="f-w-400">Signup</a></p>
            </div>
         </form>
        </div>
    </div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- [ horizontal-layout ] end -->
{% endblock %}

